(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2285)}])},2285:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return i},default:function(){return c}});var n=a(5893),l=a(9e3),r=a.n(l),s=a(7294);let o=[{url:new(a(1766)).Howl({src:"/soundtrack.mp3",html5:!0,volume:.25})}];var i=!0;function c(e){let{layers:t}=e,[a,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(0),[d,m]=(0,s.useState)({background:0,bro:0,eyes:0,mouth:0,head:0,hand:0,additional:0}),[u,h]=(0,s.useState)(""),[_,p]=(0,s.useState)(""),[x,g]=(0,s.useState)({background:0,bro:0,eyes:0,mouth:0,head:0,hand:0,additional:0});(0,s.useEffect)(()=>{o[i].url.on("end",function(){if(o[i]){var e;null===(e=o[i])||void 0===e||e.url.play(),c(i)}else c(0)})},[i]);let k=()=>{a||(o[i].url.play(),l(!0))},v=e=>{k(),g(t=>({...t,[e]:Math.max(t[e]-1,0)})),m(t=>({...t,[e]:0===t[e]?t[e]:t[e]-1}))},w=e=>{k(),g(a=>({...a,[e]:Math.min(a[e]+1,t[e].length-4)})),m(a=>({...a,[e]:a[e]===t[e].length-1?a[e]:a[e]+1}))},f=(e,t)=>{k(),m(a=>({...a,[e]:t}))};return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:r().main,children:[(0,n.jsxs)("div",{className:r().imagePreviewWrapper,children:[(0,n.jsx)("div",{className:r().imagePreview,children:(0,n.jsxs)("div",{id:"imagePreview",children:[["background","bro","eyes","mouth","head","hand","additional"].map(e=>"empty.png"===t[e][d[e]]?null:(0,n.jsx)("img",{src:"/layers/".concat(e,"/").concat(t[e][d[e]]),alt:e,className:r().layerImage,style:{zIndex:Object.keys(t).indexOf(e)}},e)),(0,n.jsxs)("div",{className:r().textOverlay,children:[(0,n.jsx)("p",{children:u}),(0,n.jsx)("p",{children:_})]})]})}),(0,n.jsxs)("div",{className:r().controlsWrapper,children:[(0,n.jsxs)("div",{className:r().buttonsWrapper,children:[(0,n.jsx)("button",{onClick:()=>{k(),m({background:0,bro:0,eyes:0,mouth:0,head:0,hand:0,additional:0})},children:(0,n.jsx)("img",{src:"/img/reset.svg",alt:"reset"})}),(0,n.jsx)("button",{onClick:()=>{k();let e={};for(let a in t){let n=t[a].length;e[a]=Math.floor(Math.random()*n)}m(e)},children:(0,n.jsx)("img",{src:"/img/shuffle.svg",alt:"shuffle"})}),(0,n.jsx)("button",{onClick:()=>{k();let e=document.createElement("canvas"),a=e.getContext("2d");e.width=1024,e.height=1024,Promise.all(Object.keys(t).map(e=>{if("empty.png"===t[e][d[e]])return;let a=new window.Image;return a.src="/layers/".concat(e,"/").concat(t[e][d[e]]),new Promise(e=>{a.onload=()=>e(a)})})).then(t=>{t.forEach(e=>{!e||(null==e?void 0:e.src.includes("empty.png"))||a.drawImage(e,0,0,1024,1024)}),a.font="bold 58px Comic Sans MS",a.fillStyle="white",a.textAlign="center",a.shadowColor="#000",a.shadowOffsetX=1,a.shadowOffsetY=1,a.shadowBlur=0;let n=(e,t,n)=>{a.fillText(e,t-1,n-1),a.fillText(e,t+1,n-1),a.fillText(e,t-1,n+1),a.fillText(e,t+1,n+1),a.fillText(e,t,n)};n(u,e.width/2,80),n(_,e.width/2,e.height-30);let l=document.createElement("a");l.download="bro-meme.png",l.href=e.toDataURL(),l.click()})},children:(0,n.jsx)("img",{src:"/img/download.svg",alt:"download"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:r().textInput,children:[(0,n.jsx)("label",{children:"TEXT 1"}),(0,n.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value)})]}),(0,n.jsxs)("div",{className:r().textInput,children:[(0,n.jsx)("label",{children:"TEXT 2"}),(0,n.jsx)("input",{type:"text",value:_,onChange:e=>p(e.target.value)})]})]})]})]}),(0,n.jsx)("div",{className:r().controls,children:Object.keys(t).map(e=>(0,n.jsxs)("div",{className:r().controlGroup,children:[(0,n.jsx)("label",{children:e.toUpperCase()}),(0,n.jsx)("button",{className:r().arrowButton,onClick:()=>v(e),children:"←"}),(0,n.jsx)("div",{className:r().layerPreview,children:t[e].slice(x[e],x[e]+4).map((t,a)=>{let l=x[e]+a;return"empty.png"===t?(0,n.jsx)("img",{src:"/img/none.png",alt:"".concat(e,"-").concat(l),className:"".concat(r().layerOption," ").concat(l===d[e]?r().selected:""),onClick:()=>f(e,l)},l):(0,n.jsx)("img",{src:"/layers/".concat(e,"/").concat(t),alt:"".concat(e,"-").concat(l),className:"".concat(r().layerOption," ").concat(l===d[e]?r().selected:""),onClick:()=>f(e,l)},l)})}),(0,n.jsx)("button",{className:r().arrowButton,onClick:()=>w(e),children:"→"})]},e))})]})})}},9e3:function(e){e.exports={makeContainer:"make_makeContainer__0z1Kg",main:"make_main__cjak4",imagePreview:"make_imagePreview__kCpSk",imagePreviewWrapper:"make_imagePreviewWrapper__lSwGg",layerImage:"make_layerImage__wdkyv",textOverlay:"make_textOverlay__PI_70",controlsWrapper:"make_controlsWrapper__qik5_",buttonsWrapper:"make_buttonsWrapper__FxGQm",controls:"make_controls__kd5TY",controlGroup:"make_controlGroup___GgFS",arrowButton:"make_arrowButton__tRK6S",layerPreview:"make_layerPreview__OIXlq",layerOption:"make_layerOption__h0xHs",selected:"make_selected__Lal1E",textInput:"make_textInput__k4Lzl",footer:"make_footer__id6we"}}},function(e){e.O(0,[766,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);